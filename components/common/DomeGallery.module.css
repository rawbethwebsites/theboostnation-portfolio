.dgScrollLock {
    overflow: hidden;
  }

  .sphereRoot {
    --radius: 600px;
    --viewer-pad: 120px;
    --segments-x: 35;
    --segments-y: 5;
    --overlay-blur-color: #060010;
    --tile-radius: 30px;
    --enlarge-radius: 30px;
    --image-filter: grayscale(1);
    position: relative;
    width: 100%;
    height: 100%;
    touch-action: none;
    overflow: hidden;
  }

  .sphereRoot[data-enlarging] .scrim {
    opacity: 1;
    pointer-events: all;
  }

  .sphereMain {
    width: 100%;
    height: 100%;
    perspective: 1000px;
    transform-style: preserve-3d;
    overflow: hidden;
    position: relative;
  }

  .stage {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    transform-style: preserve-3d;
    transform: translateZ(0px);
    backface-visibility: hidden;
  }

  .sphere {
    position: relative;
    width: 1px;
    height: 1px;
    transform-style: preserve-3d;
    will-change: transform;
    backface-visibility: hidden;
    transform: rotateX(0deg) rotateY(0deg);
  }

  .item {
    --rot-y: calc(var(--offset-x) * (360deg / var(--segments-x)));
    --rot-x: calc(var(--offset-y) * (360deg / var(--segments-y)));
    --item-width: calc(var(--radius) * (360 / var(--segments-x)) * 0.01745 * var(--item-size-x) * 0.85);
    --item-height: calc(var(--radius) * (360 / var(--segments-y)) * 0.01745 * var(--item-size-y) * 0.85);

    position: absolute;
    width: var(--item-width);
    height: var(--item-height);
    top: 50%;
    left: 50%;
    margin-left: calc(var(--item-width) * -0.5);
    margin-top: calc(var(--item-height) * -0.5);
    transform-style: preserve-3d;
    backface-visibility: hidden;
    transform: translate(-50%, -50%) rotateY(calc(var(--rot-y) + var(--rot-y-delta, 0deg)))
      rotateX(calc(var(--rot-x) + var(--rot-x-delta, 0deg))) translateZ(calc(var(--radius) * 0.5));
    transition: transform 300ms ease;
  }

  .itemImage {
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
    backface-visibility: hidden;
    border-radius: var(--tile-radius);
    overflow: hidden;
    cursor: pointer;
    box-shadow: 0 5px 12px rgba(0, 0, 0, 0.2);
    transition: opacity 300ms ease-out;
  }

  .itemImage img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    user-select: none;
    -webkit-user-drag: none;
    pointer-events: none;
    filter: var(--image-filter);
    transition: filter 300ms ease-in-out;
  }

  .itemImage:hover img,
  .itemImage:focus img {
    filter: none;
  }

  .itemImageReference {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
  }

  .overlay {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 10;
  }

  .overlayBlur {
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    z-index: 20;
    opacity: 0;
    transition: opacity 300ms ease;
    background-color: var(--overlay-blur-color);
  }

  .sphereRoot[data-enlarging] .overlayBlur {
    opacity: 0.85;
  }

  .edgeFade {
    position: absolute;
    left: 0;
    right: 0;
    height: 30%;
    z-index: 10;
    pointer-events: none;
  }

  .edgeFadeTop {
    top: 0;
    background: linear-gradient(to bottom, var(--overlay-blur-color) 0%, transparent 100%);
  }

  .edgeFadeBottom {
    bottom: 0;
    background: linear-gradient(to top, var(--overlay-blur-color) 0%, transparent 100%);
  }

  .viewer {
    position: absolute;
    inset: 0;
    z-index: 25;
    pointer-events: none;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .scrim {
    position: absolute;
    inset: 0;
    background: transparent;
    opacity: 0;
    transition: opacity 300ms ease-in-out;
    pointer-events: none;
    z-index: 1;
  }

  .frame {
    position: relative;
    width: clamp(250px, 100%, calc(100% - var(--viewer-pad) * 2));
    height: clamp(350px, 100%, calc(100% - var(--viewer-pad) * 2));
    max-width: 500px;
    max-height: 700px;
    z-index: 2;
  }

  .enlarge {
    border-radius: var(--enlarge-radius);
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
  }

  .enlarge img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: none !important;
  }

  .enlargeClosing {
    border-radius: var(--enlarge-radius);
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
  }

  @media (max-width: 768px) {
    .sphereRoot {
      --viewer-pad: 48px;
    }
  }

  @media (max-width: 480px) {
    .sphereRoot {
      --viewer-pad: 24px;
    }
  }
